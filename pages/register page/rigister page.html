<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Creat New</title>

    <link rel="stylesheet" href="../../assets/css/register.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Barlow:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Kumbh+Sans:wght@100;200;300;400;500;600;700;800;900&family=Merriweather:ital,wght@0,300;0,400;0,700;0,900;1,300;1,400;1,700;1,900&family=Nerko+One&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap" rel="stylesheet">

</head>

<body>
    <form  role="form" onsubmit="signUp(event)">
    <div class="in">
    <div class="container">
      <h1>Creat New Account</h1>
      <p>Please fill in this form to create an account.</p>
      <hr>
 
      <lable for="name"><b>Name</b></lable>
      <input type="text" placeholder="name" pattern="[a-zA-Z0-9]+" required="true" id="name" >
      
      <label for="email"><b>Email</b></label>
      <input type="email" placeholder="example@abc.com" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}$" name="email" id="email" required>
      <label for="psw"><b>Password</b></label>
      <input type="password" placeholder="********" name="psw" pattern="(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{8,}" id="password" required  >
      <label for="psw-repeat"><b>Confirm Password</b></label>
      <input type="password" placeholder="********"  name="psw-repeat" id="confirm_password" required >
      <div class="remember">
        <input type="checkbox"  name="remember" > Remember me
      </div>
   
      <div class="clearfix">
        <button type="button" class="cancelbtn"><a href="../../index.html">CANCEL</a></button>
        <button type="submit" class="signupbtn">SIGN UP</button>
      </div>
    </div>
  </form>

      <div class="it">
        <img src="../../assets/img/concept-of-online-shopping-and-bill-payment-1917475-1634487.webp" alt="photo" width="600px" height="636px"/>
      </div>
    </div>

    

    <script>

        function signUp(e) {
            let email = document.getElementById("email").value;
              confirm_password = document.getElementById("confirm_password").value;
              password = document.getElementById("password").value;
             name = document.getElementById("name").value;

            let user_cred = JSON.parse(localStorage.getItem('user_cred')) || [];

            let exist = user_cred.length &&
                JSON.parse(localStorage.getItem('user_cred')).some(data =>
                    data.email.toLowerCase() == email.toLowerCase()
                     
                );
            if(!exist){

              if(password == confirm_password){
                user_cred.push({name,email,confirm_password,password});
                localStorage.setItem('user_cred',JSON.stringify(user_cred));
                console.log(localStorage.getItem('user_cred'));
                document.querySelector("form").reset();
               document.getElementById('email').focus();
                alert('Account created successfully');
                location.href = "../login page/logion page.html";
            }

              else{
                alert("Confirm password does not match")
              }
            }
            else {
                alert('Sorry the User already exists! \n Try with a new Email.');
                document.querySelector('form').reset();
            }
            e.preventDefault();
          }


        // function guid() {
        //         return "ss-s-s-s-sss".replace(/s/g, s4);
        //         }

        // function s4() {
        //         return Math.floor((1 + Math.random()) * 0x10000)
        //        .toString(16)
        //        .substring(1);
        //       }


        // document.getElementById('value').value = guid();

      

     
      // function submit(){ 
      //   let name,email,password,confirm_password;

      //  email = document.getElementById("email").value;
      //  confirm_password = document.getElementById("confirm_password").value;
      //  password = document.getElementById("password").value;
      //  name = document.getElementById("name").value;

      //  let user_records= new Array();
      //  user_records=JSON.parse(localStorage.getItem("users"))?JSON.parse(localStorage.getItem("users")) : []
    
      //  if (user_records.some((v)=>{return v.email == email && v.password == password && confirm_password==confirm_password && name==name}))
      //  {
      //   alert("invalid")
      //  }
      //  else{
      //   user_records.push({
      //   "userEmail":email,
      //   "userpassword":password,
      //   "userConfirm_password":confirm_password,
      //   "name":name
      //  })
      //  localStorage.setItem("users",JSON.stringify(user_records));
      //  }
     
      // }

    // console.log(email)
    //   console.log(password)
    //   console.log(name)
    //   console.log(confirm_password)


    // window.location.href = "../buy now page/buy now details.html"

    //   }

     
    // function addData(){

    //  var email = document.getElementById("email").value;
    //  var confirm_password = document.getElementById("confirm_password").value;
    //  var password = document.getElementById("password").value;
    //  var name = document.getElementById("name").value;

    //   localStorage.setItem('userEmail',email);
    //   localStorage.setItem('userPassword',password);
    //   localStorage.setItem('userConfirm_password',confirm_password);
    //   localStorage.setItem('userName',name);

    // }

  </script>

<script src="http://wzrd.in/standalone/uuid%2Fv4@latest">
  let a= uuidv4();
  console.log(a);
</script>

</body>



</html>














